---
title: CH6 함수
date: 2019-01-02 19:54:18
tags:
- 러닝자바스크립트
---

## 6.1 반환 값

함수 바디안에 return 키워드를 사용하면 함수를 즉시 종료하고 값을 반환합니다.

## 6.2 호출과 참조

자바스크립트에서는 함수도 객체입니다. 따라서 다른 객체와 마찬가지로 넘기거나 할당할 수 있습니다. 함수 식별자 뒤에 괄호를 쓰면 자바스크립트는 함수를 호출하려 한다고 이해하고, 함수 바디를 실행합니다. 그리고 함수를 호출한 표현식은 반환값이 됩니다. 괄호를 쓰지 않으면 다른 값과 마찬가지로 함수를 참조하는 것이며, 그 함수는 실행되지 않습니다.

함수를 호출하지 않고 다른 값과 마찬가지로 참조하기만 할 수 있다는 특징은 자바스크립트를 매우 유연한 언어로 만듭니다. 예를 들어 함수를 변수에 할당하면 다른 이름으로 함수를 호출할 수 있습니다. 

```javascript
getGreeting(); // "Hello, World!"
getGreeting; // function getGreeting()

const f = getGreeting;
f(); //"Hello, World!"
```

함수를 객체 프로퍼티에 할당할 수도 있습니다.

```javascript
const 0 = {};
o.f = getGreeting;
o.f(); // "Hello, World!"
```

## 6.3 함수와 매개변수

함수를 호출하면서 정보를 전달할 때는 함수 매개변수를 이용합니다. 매개변수는 함수가 호출되기 전에는 존재하지 않는다는 점을 제외하면 일반적인 변수나 마찬가지입니다.

```javascript
function avg(a,b) {
  return (a*b)/2;
}
```

이 함수 선언에서 a와 b를 정해진 매개변수라고 합니다. 함수가 호출되면 정해진 매개변수는 값을 받아 실제 매개변수가 됩니다.

```javascript
avg(5, 10); // 7.5
```

실제 매개변수는 변수와 매우 비슷하지만, 함수 바디 안에서만 존재합니다. 함수를 호출하면 함수 매개변수는 변수 자체가 아니라 그 값을 전달받습니다.

```javascript
function f(x) {
  console.log(`f 내부: x=${x}`);
  x = 5;
  console.log(`f 내부: x=${x} (할당 후)`);
}

let x = 3;
console.log(`f를 호출하기 전: x=${x}`);
f(x);
console.log(`f를 호출한 다음: x=${x}`);

/* 결과
  f를 호출하기 전: x=3
  f 내부: x=3
  f 내부: x=5 (할당 후)
  f를 호출한 다음: x=3
*/
```

여기서 중요한 것은 함수 안에서 x에 값을 할당하더라도 함수 바깥의 변수 x에는 아무 영향도 없다는 것입니다. 하지만 함수 안에서 객체 자체를 변경하면 그 객체는 함수 바깥에서도 바뀐 점이 반영됩니다.

```javascript
function f(o) {
  o.message = `f 안에서 수정함 (이전 값: '${o.message}')`;
}

let o = {
  message: "초기 값"
}

console.log(`f를 호출하기 전: o.message=${o.message}`);
f(o);
console.log(`f를 호출한 다음: o.message=${o.message}`);

/* 결과
  f를 호출하기 전: o.message="초기 값"
  f를 호출한 다음: o.message="f 안에서 수정함 (이전 값: '초기 값')"
*/
```

위 예제를 보면 함수 f 안에서 객체 o를 수정했고, 이렇게 바꾼 내용은 함수 바깥에서도 o에 그대로 반영되어 있음을 알 수 있습니다.

### 6.3.1 매개변수가 함수를 결정하는가?

여러 언어에서 함수의 시그니처에는 매개변수가 포함됩니다. 예를 들어 C언어에서 매개변수 없는 함수 f() 는 매개변수가 하나인 함수 f(x)와 다르고, f(x)는 매개변수가 두 개인 함수 f(x, y) 와 다릅니다. 자바스크립트에는 그런 차이가 없습니다. 함수 f가 있다면 호출할 때 매개변수를 한 개 전달하든 열 개 전달하든 같은 함수를 호출하는 겁니다.

### 6.3.2 매개변수 해체

매개변수도 해체가 가능합니다.

```javascript
function getSentence({subject, verb, object}){
  return `${subject} ${verb} ${object}`;
}

const o = {
  subject: "I",
  verb: "love",
  object: "Javascript",
};

getSentence(o); // "I love Javascript"
```
해체 할당과 마찬가지로 프로퍼티 이름은 반드시 유효한 식별자여야 하고, 들어오는 객체에 해당 프로퍼티가 없는 변수는 undefined를 할당받습니다.

함수를 선언할 때 확산 연산자는 반드시 마지막 매개변수여야 합니다. 확산 연산자 뒤에 다른 매개변수가 있으면 자바스크립트는 전달된 값 중 어디까지를 확산 매개변수에 할당해야 하는지 판단할 수 없어서 에러를 일으킵니다.

### 6.3.3 매개변수 기본값

ES6에서는 매개변수에 기본값을 지정하는 기능도 추가됐습니다. 일반적으로 매개변수에 값을 제공하지 않으면 undefined가 값으로 할당됩니다.

```javascript
function f(a, b="default", c=3){
  return `${a} - ${b} - ${c}`;
}

f(5,6,7); // 5 - 6 - 7
f(5,6); // 5 - 6 - 3
f(5); // 5 - default - 3
f(); // undefined - default - 3
```

## 6.4 객체의 프로퍼티인 함수

객체의 프로퍼티인 함수를 메서드라고 불러서 일반적인 함수와 구별합니다. 함수와 메서드 사이에는 다른 차이도 있는데 그건 나중에 다시 설명합니다.

```javascript
const o = {
  name: "Wallace", // 원시 값 프로퍼티
  bark: function() {return "Woof!";} // 함수 프로퍼티(메서드)
}
```

ES6에서는 간편하게 메서드를 추가할 수 있는 문법이 새로 생겼습니다. 다음 예제는 이전 예제와 동일합니다.

```javascript
const o = {
  name: 'Wallace', // 원시 값 프로퍼티
  bark() {return "Woof!";} // 함수 프로퍼티(메서드)
}
```