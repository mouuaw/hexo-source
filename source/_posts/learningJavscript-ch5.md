---
title: CH5 표현식과 연산자
date: 2018-12-23 17:02:00
tags:
- 러닝자바스크립트
---

## 5.1 연산자
연산자는 하나 이상의 피연산자가 있어야 결과를 낼 수 있습니다. 예를들어 1+2 라는 표현식에서 
1, 2 는 피연산자이고 + 는 연산자입니다. 피연산자를 매개변수라 부르는 경우도 있습니다.

## 5.2 산술 연산자

|연산자|설명|예제|
|-------|----|----|
|+|덧셈|3+2 // 5|
|-|뺄셈|3-2 // 1|
|/|나눗셈|3/2 // 1.5|
|*|곱셈|3*2 // 6|
|%|나머지|3%2 // 1|
|-|단항 부정|-x // x의 부호를 바꿈|
|+|단항 플러스|+x // x가 숫자가 아니면 숫자로 변환시도|
|++|전위 증가|++x|
|++|후위 증가|x++|
|--|전위 감소|--x|
|--|후위 감소|x--|

* 자바스크립트의 숫자는 모두 Double 형식이므로 3/2 처럼 정수를 연산한 결과도 더블 형식입니다.

* 단항 부정과 단항 플러스의 경우는 변수에만 사용합니다. 숫자형 리터럴 앞에 붙으면 숫자 리터럴의 일부로 해석되어 연산자가 되지않습니다.

* 위, 후위 연산자의 차이도 이해해야 합니다. 전위 연산자는 연산이 이루어지기 전에 증/감이 이루어지며 후위 연산자는 연산 이후에 증/감이 이루어집니다.

## 5.3 연산자 우선순위

* [https://developer.mozilla.org 참조](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/%EC%97%B0%EC%82%B0%EC%9E%90_%EC%9A%B0%EC%84%A0%EC%88%9C%EC%9C%84#%ED%91%9C)
* 자바스크립트 연산자 우선순위중 가장 높은것이 괄호()입니다.
* 같은 우선순위에선 정의되어있는 순서(오른쪽 -> 왼쪽, 왼쪽 -> 오른쪽) 순서를 따릅니다.

## 5.4 비교 연산자

비교 연산자는 이름처럼 두 개의 값을 비교합니다. 크게 일치함(===), 동등함(==), 대소관계 세 가지 타입으로 나뉩니다.

일치 관계는 같은 객체를 가리키거나, 같은 타입이고 값도 같다면 일치하다고 합니다. 일치관계의 경우 단순하고 이해하기 쉬우므로 버그나 오해를 낳는 경우가 거의 없습니다.

동등 관계는 두 값이 같은 객체를 가리키거나 같은 값을 갖도록 변환할 수 있다면 두 값을 동등하다고 봅니다. 두번째 성질 때문에 수많은 골칫거리와 혼란을 발생시켰는데 예로는 33 == "33" 같은 경우 입니다.

관계 연산자는 관계가 있는 값을 비교하며, 문자열이나 숫자처럼 원래 순서가 있는 데이터 타입에만 사용할 수 있습니다.

## 5.5 숫자 비교

숫자를 비교할 때는 염두해 두어야 할 것이 있습니다.

먼저 특별한 숫자형 값 NaN은 그 자신을 포함하여 무엇과도 같지 않습니다. 즉, NaN === NaN 과 NaN == NaN은 모두 false 입니다. 숫자가 NaN인지 알아보려면 내장된 isNaN 함수를 사용하십시오.

자바스크립트에서 숫자는 모두 Double형식입니다. 그리고 더블 형식은 근사치 이므로, 자바스크립트에서 숫자를 비교하다보면 예상치 못한 결과가 생길때가 있습니다.

자바스크립트에서 정수를 비교할 때, 그 정수가 안전한 범위라면 (Number.MIN_SAFE_INTEGER이상, Number.MAX_SAFE_INTEGER 이하) 안심하고 일치 연산자를 사용할 수 있습니다. 하지만 소수점이 있는 숫자를 비교할 때는 관계 연산자를 써서 테스트 하는 숫자가 대상 숫자에 "충분히 가까운지" 확인하는 편이 좋습니다. 자바스크립트에는 특별한 숫자형 상수 Number.EPSILON이 있습니다. 이것은 매우 작은값(약 2.22e-16)이며, 일반적으로 숫자 두 개를 구별하는 기준으로 사용합니다. 다음 예제를 보십시오.

```javascript
let n = 0;
while(true){
  n += 0.1;
  if(n === 0.3) break;
}
console.log(`Stopped at ${n}`);
```

이 코드를 실행하면 0.3에서 멈추지 않고 무한루프를 돌게됩니다. 이러한 현상이 생기는 이유는 0.1이 더블 형식으로 정확히 나타낼 수 없는 값이기 때문이기 때문입니다. 0.1은 이진 표현으로 나타낼 수 있는 숫자들 사이에 걸쳐 있습니다. 따라서 이 루프를 세 번째 반복할 때 n의 값은 0.30000000000000004 이므로 테스트는 false가 됩니다.

이때 Number.EPSILON과 관계 연산자를 사용해서 '느슨하게' 비교하면 성공적으로 루프를 빠져나갈 수 있습니다.

```javascript
let n = 0;
while(true){
  n += 0.1;
  if(Math.abs(n - 0.3) < Number.EPSILON) break;
}
console.log(`Stopped at ${n}`);
```

## 5.6 문자열 병합

자바스크립트는 피연산자의 타입을 보고 덧셈을 할지 문자열 병합을 할지 판단합니다. 두 피연산자를 왼쪽에서 오른쪽으로 평가한 후, 피연산자 중 하나라도 문자열이면 문자열 병합을 수행합니다.

```javascript
3 + 5 + "8" // 문자열 "88"이 됩니다.
"3" + 5 + 8 // 문자열 "358"이 됩니다.
```

## 5.7 논리 연산자

논리 연산자는 Boolean값만 다룰 수 있습니다. 대부분의 프로그래밍 언어에서 논리 연산자는 불리언 값에서만 동작하며 불리언 값만 반환합니다. 반면 자바스크립트의 논리 연산자는 불리언이 아닌 값도 다룰 수 있고, 놀랍게도 불리언이 아닌 값을 반환하기도 합니다.

연산자에 대해 설명하기 전에 자바스크립트가 불리언이 아닌 값을 불리언 값으로 바꾸는 방법에 익숙해져야 합니다.

### 5.7.1 참 같은 값과 거짓 같은 값

자바스크립트에서는 모든 데이터 타입을 참 같은 값과 거짓 같은 값으로 나눌 수 있습니다.

거짓 같은 값은 다음과 같습니다.

* undefined
* null
* false
* 0
* NaN
* '' (빈 문자열)

이들 외에는 모두 참 같은 값입니다. 참 같은 값은 정말 많으므로 전부 나열할 수 없지만 몇 가지는 염두에 두어야 합니다.

* 모든 객체 valueOf() 메서드를 호출했을 때 false를 반환하는 객체도 참 같은 값에 속합니다.
* 배열, 빈 배열도 참 같은 값에 속합니다.
* 공백만 있는 문자열 ("  ")등
* 문자열 "false"

## 5.8 AND, OR, NOT
